{"version":3,"file":"ProductsPage-DLNSoJh4.js","sources":["../../node_modules/lucide-react/dist/esm/icons/upload.js","../../src/lib/products.ts","../../src/components/admin/AddProductModal.tsx","../../src/components/admin/EditProductModal.tsx","../../src/pages/admin/ProductsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","import { api } from './api';\n\nexport type ProductCategory = 'Non-Veg Pickles' | 'Veg Pickles' | 'Podulu' | 'Snacks';\n\nexport interface Product {\n  _id: string;\n  name: string;\n  description?: string;\n  price: number;\n  image?: string;\n  category?: ProductCategory;\n  stock: number;\n  featured: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface CreateProductData {\n  name: string;\n  description?: string;\n  price: number;\n  image?: string;\n  category?: ProductCategory;\n  stock: number;\n  featured: boolean;\n}\n\nexport interface UpdateProductData extends Partial<CreateProductData> {}\n\nexport const createProduct = async (productData: CreateProductData): Promise<Product> => {\n  const response = await api.createProduct(productData);\n  if (response.success && response.data) {\n    return response.data;\n  }\n  throw new Error(response.message || 'Failed to create product');\n};\n\nexport const updateProduct = async (id: string, productData: UpdateProductData): Promise<Product> => {\n  const response = await api.updateProduct(id, productData);\n  if (response.success && response.data) {\n    return response.data;\n  }\n  throw new Error(response.message || 'Failed to update product');\n};\n\nexport const deleteProduct = async (id: string): Promise<void> => {\n  const response = await api.deleteProduct(id);\n  if (!response.success) {\n    throw new Error(response.message || 'Failed to delete product');\n  }\n};\n\nexport const getProducts = async (): Promise<Product[]> => {\n  const response = await api.getProducts();\n  if (response.success && response.data) {\n    return response.data;\n  }\n  throw new Error(response.message || 'Failed to fetch products');\n};\n\nexport const getProduct = async (id: string): Promise<Product> => {\n  const response = await api.getProduct(id);\n  if (response.success && response.data) {\n    return response.data;\n  }\n  throw new Error(response.message || 'Failed to fetch product');\n};","import { useState } from 'react';\nimport { X, Upload } from 'lucide-react';\nimport { createProduct } from '../../lib/products';\nimport type { ProductCategory } from '../../lib/products';\nimport Button from '../ui/Button';\n\ninterface AddProductModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst CATEGORIES: ProductCategory[] = [\n  'Non-Veg Pickles',\n  'Veg Pickles',\n  'Podulu',\n  'Snacks'\n];\n\nconst AddProductModal: React.FC<AddProductModalProps> = ({ isOpen, onClose, onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [selectedImage, setSelectedImage] = useState<File | null>(null);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: CATEGORIES[0],\n    stock: '',\n    featured: false\n  });\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      \n      if (!file.type.startsWith('image/')) {\n        setError('Please select a valid image file');\n        return;\n      }\n      \n      if (file.size > 5 * 1024 * 1024) {\n        setError('Image size must be less than 5MB');\n        return;\n      }\n      \n      setSelectedImage(file);\n      setImagePreview(URL.createObjectURL(file));\n      setError(null);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value, type } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? (e.target as HTMLInputElement).checked : value\n    }));\n    setError(null);\n  };\n\n  const convertImageToBase64 = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(reader.result as string);\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    try {\n      if (!formData.name.trim()) {\n        throw new Error('Product name is required');\n      }\n      \n      if (!formData.description.trim()) {\n        throw new Error('Product description is required');\n      }\n      \n      const price = parseFloat(formData.price);\n      if (isNaN(price) || price <= 0) {\n        throw new Error('Please enter a valid price');\n      }\n      \n      const stock = parseInt(formData.stock);\n      if (isNaN(stock) || stock < 0) {\n        throw new Error('Please enter a valid stock quantity');\n      }\n\n      let imageData = '';\n      if (selectedImage) {\n        imageData = await convertImageToBase64(selectedImage);\n      }\n\n      await createProduct({\n        name: formData.name.trim(),\n        description: formData.description.trim(),\n        price: price,\n        image: imageData,\n        category: formData.category,\n        stock: stock,\n        featured: formData.featured\n      });\n\n      setFormData({\n        name: '',\n        description: '',\n        price: '',\n        category: CATEGORIES[0],\n        stock: '',\n        featured: false\n      });\n      setSelectedImage(null);\n      setImagePreview(null);\n      setError(null);\n      \n      onSuccess();\n      onClose();\n    } catch (error: any) {\n      console.error('Error adding product:', error);\n      setError(error.message || 'Failed to add product. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleClose = () => {\n    if (!loading) {\n      setError(null);\n      onClose();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-secondary-500 bg-opacity-50\">\n      <div className=\"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between p-6 border-b border-neutral-200\">\n          <h2 className=\"text-xl font-serif font-bold text-secondary-500\">\n            Add New Product\n          </h2>\n          <button\n            onClick={handleClose}\n            disabled={loading}\n            className=\"text-neutral-500 hover:text-neutral-700 disabled:opacity-50\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n\n        {error && (\n          <div className=\"mx-6 mt-4 p-4 bg-error-50 border border-error-200 rounded-md\">\n            <p className=\"text-error-700 text-sm\">{error}</p>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"p-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Product Name *\n              </label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Category *\n              </label>\n              <select\n                name=\"category\"\n                value={formData.category}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              >\n                {CATEGORIES.map((category) => (\n                  <option key={category} value={category}>\n                    {category}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Price (₹) *\n              </label>\n              <input\n                type=\"number\"\n                name=\"price\"\n                value={formData.price}\n                onChange={handleChange}\n                step=\"0.01\"\n                min=\"0\"\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Stock *\n              </label>\n              <input\n                type=\"number\"\n                name=\"stock\"\n                value={formData.stock}\n                onChange={handleChange}\n                min=\"0\"\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Product Image\n              </label>\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"flex-1\">\n                  <label className=\"flex flex-col items-center justify-center w-full h-32 border-2 border-neutral-300 border-dashed rounded-lg cursor-pointer bg-neutral-50 hover:bg-neutral-100\">\n                    <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\n                      <Upload className=\"w-8 h-8 mb-2 text-neutral-500\" />\n                      <p className=\"text-sm text-neutral-500\">\n                        Click to upload or drag and drop\n                      </p>\n                      <p className=\"text-xs text-neutral-400\">\n                        PNG, JPG, JPEG up to 5MB\n                      </p>\n                    </div>\n                    <input\n                      type=\"file\"\n                      className=\"hidden\"\n                      accept=\"image/*\"\n                      onChange={handleImageChange}\n                      disabled={loading}\n                    />\n                  </label>\n                </div>\n                {imagePreview && (\n                  <div className=\"relative w-32 h-32\">\n                    <img\n                      src={imagePreview}\n                      alt=\"Preview\"\n                      className=\"w-full h-full object-cover rounded-lg\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setSelectedImage(null);\n                        setImagePreview(null);\n                      }}\n                      disabled={loading}\n                      className=\"absolute -top-2 -right-2 p-1 bg-error-500 text-white rounded-full hover:bg-error-600 disabled:opacity-50\"\n                    >\n                      <X size={16} />\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Description *\n              </label>\n              <textarea\n                name=\"description\"\n                value={formData.description}\n                onChange={handleChange}\n                rows={3}\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  name=\"featured\"\n                  checked={formData.featured}\n                  onChange={handleChange}\n                  disabled={loading}\n                  className=\"h-4 w-4 text-primary-500 focus:ring-primary-300 border-neutral-300 rounded\"\n                />\n                <span className=\"ml-2 text-sm text-neutral-700\">\n                  Featured Product\n                </span>\n              </label>\n            </div>\n          </div>\n\n          <div className=\"mt-6 flex justify-end gap-4\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={handleClose}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              variant=\"primary\"\n              disabled={loading}\n            >\n              {loading ? 'Adding Product...' : 'Add Product'}\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AddProductModal;","import { useState, useEffect } from 'react';\nimport { X, Upload } from 'lucide-react';\nimport { updateProduct } from '../../lib/products';\nimport type { ProductCategory } from '../../lib/products';\nimport Button from '../ui/Button';\n\ninterface EditProductModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n  product: any;\n}\n\nconst CATEGORIES: ProductCategory[] = [\n  'Non-Veg Pickles',\n  'Veg Pickles',\n  'Podulu',\n  'Snacks'\n];\n\nconst EditProductModal: React.FC<EditProductModalProps> = ({ \n  isOpen, \n  onClose, \n  onSuccess, \n  product \n}) => {\n  const [loading, setLoading] = useState(false);\n  const [selectedImage, setSelectedImage] = useState<File | null>(null);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: CATEGORIES[0],\n    stock: '',\n    featured: false\n  });\n\n  useEffect(() => {\n    if (product) {\n      setFormData({\n        name: product.name,\n        description: product.description || '',\n        price: product.price.toString(),\n        category: product.category,\n        stock: product.stock.toString(),\n        featured: product.featured || false\n      });\n      setImagePreview(product.image);\n    }\n  }, [product]);\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      \n      if (!file.type.startsWith('image/')) {\n        setError('Please select a valid image file');\n        return;\n      }\n      \n      if (file.size > 5 * 1024 * 1024) {\n        setError('Image size must be less than 5MB');\n        return;\n      }\n      \n      setSelectedImage(file);\n      setImagePreview(URL.createObjectURL(file));\n      setError(null);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value, type } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? (e.target as HTMLInputElement).checked : value\n    }));\n    setError(null);\n  };\n\n  const convertImageToBase64 = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(reader.result as string);\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    try {\n      let imageData = product.image;\n      if (selectedImage) {\n        imageData = await convertImageToBase64(selectedImage);\n      }\n\n      await updateProduct(product.id, {\n        name: formData.name,\n        description: formData.description,\n        price: parseFloat(formData.price),\n        image: imageData,\n        category: formData.category,\n        stock: parseInt(formData.stock),\n        featured: formData.featured\n      });\n\n      onSuccess();\n      onClose();\n    } catch (error: any) {\n      console.error('Error updating product:', error);\n      setError(error.message || 'Failed to update product. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-secondary-500 bg-opacity-50\">\n      <div className=\"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between p-6 border-b border-neutral-200\">\n          <h2 className=\"text-xl font-serif font-bold text-secondary-500\">\n            Edit Product\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"text-neutral-500 hover:text-neutral-700\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n\n        {error && (\n          <div className=\"mx-6 mt-4 p-4 bg-error-50 border border-error-200 rounded-md\">\n            <p className=\"text-error-700 text-sm\">{error}</p>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"p-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Product Name\n              </label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Category\n              </label>\n              <select\n                name=\"category\"\n                value={formData.category}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              >\n                {CATEGORIES.map((category) => (\n                  <option key={category} value={category}>\n                    {category}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Price (₹)\n              </label>\n              <input\n                type=\"number\"\n                name=\"price\"\n                value={formData.price}\n                onChange={handleChange}\n                step=\"0.01\"\n                min=\"0\"\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Stock\n              </label>\n              <input\n                type=\"number\"\n                name=\"stock\"\n                value={formData.stock}\n                onChange={handleChange}\n                min=\"0\"\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Product Image\n              </label>\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"flex-1\">\n                  <label className=\"flex flex-col items-center justify-center w-full h-32 border-2 border-neutral-300 border-dashed rounded-lg cursor-pointer bg-neutral-50 hover:bg-neutral-100\">\n                    <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\n                      <Upload className=\"w-8 h-8 mb-2 text-neutral-500\" />\n                      <p className=\"text-sm text-neutral-500\">\n                        Click to upload or drag and drop\n                      </p>\n                    </div>\n                    <input\n                      type=\"file\"\n                      className=\"hidden\"\n                      accept=\"image/*\"\n                      onChange={handleImageChange}\n                      disabled={loading}\n                    />\n                  </label>\n                </div>\n                {imagePreview && (\n                  <div className=\"relative w-32 h-32\">\n                    <img\n                      src={imagePreview}\n                      alt=\"Preview\"\n                      className=\"w-full h-full object-cover rounded-lg\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setSelectedImage(null);\n                        setImagePreview(product.image);\n                      }}\n                      disabled={loading}\n                      className=\"absolute -top-2 -right-2 p-1 bg-error-500 text-white rounded-full hover:bg-error-600\"\n                    >\n                      <X size={16} />\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                Description\n              </label>\n              <textarea\n                name=\"description\"\n                value={formData.description}\n                onChange={handleChange}\n                rows={3}\n                className=\"w-full px-4 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                required\n                disabled={loading}\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  name=\"featured\"\n                  checked={formData.featured}\n                  onChange={handleChange}\n                  disabled={loading}\n                  className=\"h-4 w-4 text-primary-500 focus:ring-primary-300 border-neutral-300 rounded\"\n                />\n                <span className=\"ml-2 text-sm text-neutral-700\">\n                  Featured Product\n                </span>\n              </label>\n            </div>\n          </div>\n\n          <div className=\"mt-6 flex justify-end gap-4\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={onClose}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              variant=\"primary\"\n              disabled={loading}\n            >\n              {loading ? 'Updating Product...' : 'Update Product'}\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default EditProductModal;","import { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useNavigate } from 'react-router-dom';\nimport { \n  Plus, \n  Search, \n  Edit, \n  Trash2, \n  Filter,\n  X,\n  Eye,\n  AlertCircle\n} from 'lucide-react';\nimport { useAuth } from '../../hooks/useAuth';\nimport AdminLayout from '../../components/admin/AdminLayout';\nimport Button from '../../components/ui/Button';\nimport { useProducts } from '../../hooks/useProducts';\nimport AddProductModal from '../../components/admin/AddProductModal';\nimport EditProductModal from '../../components/admin/EditProductModal';\nimport { deleteProduct } from '../../lib/products';\n\nconst ProductsPage = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const { products, loading } = useProducts();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [filteredProducts, setFilteredProducts] = useState<any[]>([]);\n  const [deleteConfirm, setDeleteConfirm] = useState<string | null>(null);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState<any>(null);\n  \n  // Extract unique categories from products\n  const categories = ['All', ...new Set(products.map(product => product.category))];\n  \n  useEffect(() => {\n    // Check if user is admin\n    if (user && !user.isAdmin) {\n      navigate('/');\n    }\n  }, [user, navigate]);\n  \n  useEffect(() => {\n    let result = [...products];\n    \n    // Apply search filter\n    if (searchTerm) {\n      result = result.filter(product => \n        product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.description?.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n    \n    // Apply category filter\n    if (selectedCategory && selectedCategory !== 'All') {\n      result = result.filter(product => product.category === selectedCategory);\n    }\n    \n    setFilteredProducts(result);\n  }, [products, searchTerm, selectedCategory]);\n  \n  const handleDeleteConfirm = async (productId: string) => {\n    try {\n      await deleteProduct(productId);\n      setFilteredProducts(prev => prev.filter(p => p.id !== productId));\n      setDeleteConfirm(null);\n    } catch (error) {\n      console.error('Error deleting product:', error);\n      alert('Failed to delete product. Please try again.');\n    }\n  };\n\n  const handleAddSuccess = () => {\n    window.location.reload();\n  };\n\n  const handleEditClick = (product: any) => {\n    setSelectedProduct(product);\n    setShowEditModal(true);\n  };\n\n  const handleViewClick = (productId: string) => {\n    window.open(`/products/${productId}`, '_blank');\n  };\n  \n  return (\n    <>\n      <Helmet>\n        <title>Manage Products | The Pickle Mom Admin</title>\n      </Helmet>\n      \n      <AdminLayout>\n        <div className=\"flex flex-wrap items-center justify-end gap-4 mb-6\">\n          <Button variant=\"primary\" onClick={() => setShowAddModal(true)}>\n            <Plus size={16} className=\"mr-2\" /> Add New Product\n          </Button>\n        </div>\n        \n        {/* Search and Filters */}\n        <div className=\"bg-white rounded-lg shadow mb-6\">\n          <div className=\"p-4 border-b border-neutral-200\">\n            <div className=\"flex flex-col md:flex-row gap-4\">\n              <div className=\"relative flex-grow\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Search products...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full px-4 py-2 pl-10 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                />\n                <Search className=\"absolute left-3 top-2.5 text-neutral-400\" size={18} />\n              </div>\n              \n              <button\n                onClick={() => setShowFilters(!showFilters)}\n                className=\"flex items-center justify-center gap-2 px-4 py-2 border border-neutral-300 rounded-md md:w-auto\"\n              >\n                <Filter size={18} />\n                {showFilters ? 'Hide Filters' : 'Show Filters'}\n              </button>\n            </div>\n            \n            {showFilters && (\n              <div className=\"mt-4 pt-4 border-t border-neutral-200\">\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-neutral-700 mb-1\">\n                      Category\n                    </label>\n                    <select\n                      value={selectedCategory}\n                      onChange={(e) => setSelectedCategory(e.target.value)}\n                      className=\"w-full px-3 py-2 rounded-md border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-primary-300\"\n                    >\n                      {categories.map((category) => (\n                        <option key={category} value={category === 'All' ? '' : category}>\n                          {category}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n                \n                <div className=\"mt-4 flex justify-end\">\n                  <button\n                    onClick={() => {\n                      setSearchTerm('');\n                      setSelectedCategory('');\n                    }}\n                    className=\"flex items-center text-neutral-600 hover:text-neutral-800\"\n                  >\n                    <X size={16} className=\"mr-1\" /> Clear Filters\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* Products Table */}\n          <div className=\"overflow-x-auto\">\n            {loading ? (\n              <div className=\"p-8 text-center\">\n                <p>Loading products...</p>\n              </div>\n            ) : filteredProducts.length > 0 ? (\n              <table className=\"w-full\">\n                <thead className=\"bg-neutral-50 text-sm text-neutral-500\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left font-medium\">Image</th>\n                    <th className=\"px-6 py-3 text-left font-medium\">Name</th>\n                    <th className=\"px-6 py-3 text-left font-medium\">Category</th>\n                    <th className=\"px-6 py-3 text-left font-medium\">Price</th>\n                    <th className=\"px-6 py-3 text-left font-medium\">Stock</th>\n                    <th className=\"px-6 py-3 text-left font-medium\">Featured</th>\n                    <th className=\"px-6 py-3 text-right font-medium\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-neutral-200\">\n                  {filteredProducts.map((product) => (\n                    <tr key={product.id} className=\"hover:bg-neutral-50\">\n                      <td className=\"px-6 py-4\">\n                        <img\n                          src={product.image}\n                          alt={product.name}\n                          className=\"w-12 h-12 object-cover rounded\"\n                        />\n                      </td>\n                      <td className=\"px-6 py-4 font-medium text-secondary-500\">\n                        {product.name}\n                      </td>\n                      <td className=\"px-6 py-4 text-neutral-600\">\n                        {product.category}\n                      </td>\n                      <td className=\"px-6 py-4 text-neutral-600\">\n                        ₹{product.price.toFixed(2)}\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                          product.stock > 20 \n                            ? 'bg-success-100 text-success-700'\n                            : product.stock > 10\n                            ? 'bg-warning-100 text-warning-700'\n                            : 'bg-error-100 text-error-700'\n                        }`}>\n                          {product.stock}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 text-neutral-600\">\n                        {product.featured ? 'Yes' : 'No'}\n                      </td>\n                      <td className=\"px-6 py-4 text-right space-x-1\">\n                        <button \n                          className=\"p-1 text-neutral-500 hover:text-primary-500\"\n                          title=\"View Product\"\n                          onClick={() => handleViewClick(product.id)}\n                        >\n                          <Eye size={18} />\n                        </button>\n                        <button \n                          className=\"p-1 text-neutral-500 hover:text-secondary-500\"\n                          title=\"Edit Product\"\n                          onClick={() => handleEditClick(product)}\n                        >\n                          <Edit size={18} />\n                        </button>\n                        <button \n                          className=\"p-1 text-neutral-500 hover:text-error-500\"\n                          title=\"Delete Product\"\n                          onClick={() => setDeleteConfirm(product.id)}\n                        >\n                          <Trash2 size={18} />\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            ) : (\n              <div className=\"p-8 text-center\">\n                <p className=\"text-neutral-600\">No products found matching your criteria.</p>\n              </div>\n            )}\n          </div>\n        </div>\n        \n        {/* Pagination */}\n        <div className=\"flex items-center justify-between\">\n          <p className=\"text-sm text-neutral-500\">\n            Showing {filteredProducts.length} of {products.length} products\n          </p>\n          \n          <div className=\"flex items-center space-x-2\">\n            <button className=\"px-3 py-1 border border-neutral-300 rounded-md text-neutral-600 hover:bg-neutral-50\">\n              Previous\n            </button>\n            <button className=\"px-3 py-1 bg-primary-500 text-secondary-500 rounded-md\">\n              1\n            </button>\n            <button className=\"px-3 py-1 border border-neutral-300 rounded-md text-neutral-600 hover:bg-neutral-50\">\n              Next\n            </button>\n          </div>\n        </div>\n        \n        {/* Delete Confirmation Modal */}\n        {deleteConfirm && (\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-secondary-500 bg-opacity-50\">\n            <div className=\"bg-white rounded-lg shadow-lg max-w-md w-full p-6\">\n              <div className=\"flex items-center text-error-500 mb-4\">\n                <AlertCircle size={24} className=\"mr-2\" />\n                <h3 className=\"text-lg font-medium\">Confirm Deletion</h3>\n              </div>\n              \n              <p className=\"mb-6\">\n                Are you sure you want to delete this product? This action cannot be undone.\n              </p>\n              \n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={() => setDeleteConfirm(null)}\n                  className=\"px-4 py-2 border border-neutral-300 rounded-md text-neutral-700 hover:bg-neutral-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => deleteConfirm && handleDeleteConfirm(deleteConfirm)}\n                  className=\"px-4 py-2 bg-error-500 text-white rounded-md hover:bg-error-600\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Add Product Modal */}\n        <AddProductModal\n          isOpen={showAddModal}\n          onClose={() => setShowAddModal(false)}\n          onSuccess={handleAddSuccess}\n        />\n\n        {/* Edit Product Modal */}\n        {selectedProduct && (\n          <EditProductModal\n            isOpen={showEditModal}\n            onClose={() => {\n              setShowEditModal(false);\n              setSelectedProduct(null);\n            }}\n            onSuccess={() => {\n              setShowEditModal(false);\n              setSelectedProduct(null);\n              window.location.reload();\n            }}\n            product={selectedProduct}\n          />\n        )}\n      </AdminLayout>\n    </>\n  );\n};\n\nexport default ProductsPage;"],"names":["Upload","createLucideIcon","createProduct","productData","response","api","updateProduct","id","deleteProduct","CATEGORIES","AddProductModal","isOpen","onClose","onSuccess","loading","setLoading","useState","selectedImage","setSelectedImage","imagePreview","setImagePreview","error","setError","formData","setFormData","handleImageChange","e","file","handleChange","name","value","type","prev","convertImageToBase64","resolve","reject","reader","handleSubmit","price","stock","imageData","handleClose","jsxs","jsx","X","category","Button","EditProductModal","product","useEffect","ProductsPage","user","useAuth","navigate","useNavigate","products","useProducts","searchTerm","setSearchTerm","showFilters","setShowFilters","selectedCategory","setSelectedCategory","filteredProducts","setFilteredProducts","deleteConfirm","setDeleteConfirm","showAddModal","setShowAddModal","showEditModal","setShowEditModal","selectedProduct","setSelectedProduct","categories","result","_a","handleDeleteConfirm","productId","p","handleAddSuccess","handleEditClick","handleViewClick","Fragment","Helmet","AdminLayout","Plus","Search","Filter","Eye","Edit","Trash2","AlertCircle"],"mappings":"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","x_google_ignoreList":[0]}